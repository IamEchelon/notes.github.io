{"version":3,"sources":["app/elm/Main.elm","app/elm/Shapes.elm","app/elm/Styles.elm","app/js/index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzFA;AAAA","file":"public/js/app.js","sourcesContent":["","","","'use strict';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\n    // Set and initialize elm constants\n    var node = document.getElementById('note-box');\n\n    var elmApp = Elm.Main.embed(node);\n\n    var synth;\n\n    var chooseSynth;\n\n    var context = new AudioContext();\n\n    // Selects & creates a new instance of tone synthesizer\n    chooseSynth = function chooseSynth(elmValue) {\n        switch (elmValue) {\n            case \"duosynth\":\n                var limiter = new Tone.Limiter(-14);\n                return new Tone.DuoSynth().connect(limiter).toMaster();\n\n            case \"fmsynth\":\n                return new Tone.FMSynth().toMaster();\n\n            case \"membsynth\":\n                return new Tone.MembraneSynth().toMaster();\n\n            case \"monosynth\":\n                return new Tone.MonoSynth().toMaster();\n\n            case \"plucksynth\":\n                return new Tone.PluckSynth().toMaster();\n\n            case \"amsynth\":\n                return new Tone.AMSynth().toMaster();\n\n            case \"Please Select a Sound-\":\n                return \"None\";\n\n            default:\n                console.log(\"Something has gone horribly awry!\");\n        }\n    };\n\n    // Receive info from Elm\n    if (navigator.userAgent.match(/Android/i) || navigator.userAgent.match(/webOS/i) || navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i)) {\n\n        elmApp.ports.initMobile.subscribe(function (val) {\n\n            StartAudioContext(Tone.context, '#playButton');\n\n            elmApp.ports.synthToJS.subscribe(function (elmValue) {\n\n                synth = chooseSynth(elmValue);\n\n                var limiter = new Tone.Limiter(-6);\n\n                elmApp.ports.noteToJS.subscribe(function (elmNote) {\n\n                    if (elmNote === \"\") {\n                        synth.triggerRelease();\n                    } else {\n                        synth.triggerAttack(elmNote);\n                    }\n                });\n            });\n        });\n    } else {\n\n        elmApp.ports.synthToJS.subscribe(function (elmValue) {\n\n            synth = chooseSynth(elmValue);\n\n            var limiter = new Tone.Limiter(-6);\n\n            elmApp.ports.noteToJS.subscribe(function (elmNote) {\n\n                if (elmNote === \"\") {\n                    synth.triggerRelease();\n                } else {\n                    synth.triggerAttack(elmNote);\n                }\n            });\n        });\n    }\n\n    console.log('Initialized app');\n});\n"]}