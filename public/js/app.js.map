{"version":3,"sources":["app/elm/Cmds.elm","app/elm/Main.elm","app/elm/Model.elm","app/elm/Note.elm","app/elm/Shapes.elm","app/elm/Update.elm","app/elm/View.elm","app/js/browser.js","app/js/index.js","app/js/synths.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AAAA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnBA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzEA;AAAA","file":"public/js/app.js","sourcesContent":["","","","","","","","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar browser = exports.browser = {\n  navSelect: function navSelect(browser) {\n    return navigator.userAgent.match(browser);\n  },\n  android: function android() {\n    return this.navSelect(/Android/i);\n  },\n  iphone: function iphone() {\n    return this.navSelect(/iPhone/i);\n  },\n  ipad: function ipad() {\n    return this.navSelect(/iPad/i);\n  }\n};\n","'use strict';\n\nvar _synths = require('./synths');\n\nvar _browser = require('./browser');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  // Set and initialize elm constants\n  var node = document.getElementById('note-box');\n  var elmApp = Elm.Main.embed(node);\n  var context = new AudioContext();\n  var android = _browser.browser.android();\n  var iphone = _browser.browser.iphone();\n  var ipad = _browser.browser.ipad();\n  var synth = (0, _synths.chooseSynth)('duosynth');\n\n  // elm callbacks\n  var triggerNote = function triggerNote(elmNote) {\n    return synth.triggerAttack(elmNote);\n  };\n\n  var stopNote = function stopNote(noop) {\n    return synth.triggerRelease();\n  };\n\n  var synthSelection = function synthSelection(elmSynth) {\n    return synth = (0, _synths.chooseSynth)(elmSynth);\n  };\n\n  var setMobileContext = function setMobileContext(noop) {\n    return StartAudioContext(Tone.context, '#playButton');\n  };\n\n  // elm subscriptions\n  if (android || iphone || ipad) {\n    elmApp.ports.initMobile.subscribe(setMobileContext);\n  }\n\n  elmApp.ports.synthToJS.subscribe(synthSelection);\n  elmApp.ports.noteToJS.subscribe(triggerNote);\n  elmApp.ports.stopNote.subscribe(stopNote);\n\n  console.log('Initialized app');\n});\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.chooseSynth = undefined;\n\nvar _tone = require('tone');\n\nvar _tone2 = _interopRequireDefault(_tone);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar select = {\n  limiter: new _tone2.default.Limiter(-14),\n\n  // create instruments\n  duosynth: function duosynth() {\n    return new _tone2.default.DuoSynth().toMaster();\n  },\n  fmsynth: function fmsynth() {\n    return new _tone2.default.FMSynth().toMaster();\n  },\n  amsynth: function amsynth() {\n    return new _tone2.default.AMSynth().toMaster();\n  },\n  membsynth: function membsynth() {\n    return new _tone2.default.MembraneSynth().toMaster();\n  },\n  monosynth: function monosynth() {\n    return new _tone2.default.MonoSynth().toMaster();\n  },\n  square: function square() {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'sawtooth';\n    var attack = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0.01;\n    var decay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.2;\n    var sustain = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.2;\n    var release = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0.2;\n\n    var sq = new _tone2.default.Synth({\n      oscillator: {\n        type: type\n      },\n      envelope: {\n        attack: attack,\n        decay: decay,\n        sustain: sustain,\n        release: release\n      }\n    }).connect(this.limiter).toMaster();\n    return sq;\n  }\n}; // This is where we construct our variouse ToneJS instruments\nvar chooseSynth = exports.chooseSynth = function chooseSynth(elmSynth) {\n  switch (elmSynth) {\n    case 'duosynth':\n      return select.duosynth();\n    case 'fmsynth':\n      return select.fmsynth();\n    case 'amsynth':\n      return select.amsynth();\n    case 'membsynth':\n      return select.membsynth();\n    case 'monosynth':\n      return select.monosynth();\n    case 'square':\n      return select.square('square');\n    case 'Please Select a Sound-':\n      return 'None';\n    default:\n      console.log('Something has gone horribly awry!');\n  }\n};\n"]}